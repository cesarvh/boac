<div class="container">
  <div data-ng-include="'/static/app/shared/header.html'"></div>

  <div class="loading-spinner-large" data-ng-if="isLoading && !error">
    <i class="fa fa-refresh fa-spin fa-5x fa-fw"></i>
    <span class="sr-only">Loading...</span>
  </div>
  <div data-ng-show="!isLoading && !error">
    <div class="return-to-url" data-ng-if="returnUrl">
      <a data-ng-href="{{returnUrl}}">
        <i class="fa fa-arrow-left" aria-hidden="true"></i> <span data-ng-bind="returnLabel"></span>
      </a>
      <div class="container-right">
        Questions or feedback? Contact us at <a href="mailto:ascpilot@lists.berkeley.edu">ascpilot@lists.berkeley.edu</a>
      </div>
    </div>
    <div class="profile-body">
      <div class="profile-sidebar">
        <div class="profile-sidebar-box">
          <h1 class="profile-sidebar-header">{{section.displayName}} {{section.sectionNum}}</h1>
          <div class="profile-sidebar-details">
            <span data-ng-bind="section.courseCode"></span>
            <span data-ng-if="section.courseCode">&mdash;</span>
            <span data-ng-bind="section.units"></span> Units
          </div>
          <div class="profile-sidebar-details">
            <h2 data-ng-bind="section.title"></h2>
            <div data-ng-repeat="meeting in section.meetings">
              <div data-ng-bind="meeting.days"></div>
              <div data-ng-bind="meeting.time"></div>
              <div data-ng-bind="meeting.location"></div>
              <div data-ng-repeat="instructor in meeting.instructors">
                <div data-ng-bind="instructor"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="profile-terms">
        <h3 data-ng-bind="section.termName"></h3>

        <div data-ng-include="'/static/app/shared/tabs.html'"></div>

        <div data-ng-show="tab === 'list'"
             data-ng-if="!isLoading && !error && section.students.length">
          <ul id="section-students-list" class="list-group">
            <a class="list-group-item student-list-item"
               data-ng-class="{'list-group-item-info': anchor===student.uid}"
               id="{{student.uid}}"
               href
               data-ng-click="toStudentWithReturnUrl(student.uid, section.displayName)"
               data-ng-repeat="student in section.students">
              <div class="student-avatar-container">
                <img class="student-avatar"
                     data-ng-src="/api/user/{{student.uid}}/photo"
                     data-avatar-fallback>
              </div>
              <div class="student-name-container">
                <div class="flex-container">
                  <h3 class="student-name"
                      data-ng-class="{'demo-mode-blur': demoMode}">
                    {{student.lastName}}, {{student.firstName}}
                  </h3>
                  <watchlist-toggle data-sid="student.sid"
                                    data-fa-size="fa-1x"
                                    data-watchlist="myWatchlist"></watchlist-toggle>
                </div>
                <div class="student-sid"
                     data-ng-class="{'demo-mode-blur': demoMode}">
                  {{student.sid}}
                  <span class="student-inactive" data-ng-if="!student.isActiveAsc">INACTIVE</span>
                </div>
                <div class="student-text" data-ng-bind="student.level"></div>
                <div class="student-text" data-ng-bind="major" data-ng-repeat="major in student.majors"></div>
                <div class="student-teams-container">
                  <div class="student-teams"
                       data-ng-bind="membership.groupName"
                       data-ng-repeat="membership in student.athletics"></div>
                </div>
              </div>
            </a>
          </ul>
        </div>
        <div id="matrix-outer" data-ng-show="tab === 'matrix' && !isLoading && !error">
          <div data-ng-include="'/static/app/shared/matrix.html'"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="container-left" data-ng-if="!isLoading && error">
    <h1>Error</h1>
    <div data-ng-bind="error"></div>
  </div>

  <div data-ng-include="'/static/app/shared/footer.html'" data-ng-if="!isLoading"></div>
</div>
